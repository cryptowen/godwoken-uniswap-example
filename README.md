# Godwoken Quick Start

```
make install

cd docker && docker-compose up

# interact with godwoken
docker-compose exec godwoken bash

# in docker
cd /code
make init-uniswap-demo
ts-node-dev --respawn --transpile-only uniswap_demo.ts
```

## Interact with Godwoken Example

```bash
$ export LUMOS_CONFIG_FILE=/code/config/lumos-config.json

# deposit
root@7650ee321ed8:/code/godwoken-examples/packages/demo# ts-node-dev ./src/cli/deposit.ts -p 0xa6b023fec4fc492c23c0e999ab03b01a6ca5524a3560725887a8de4362f9c9cc -m 40000000000 -r http://ckb:8114
[INFO] 11:37:11 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.3)
LUMOS_CONFIG_FILE: /code/config/lumos-config.json
waiting for sync ...
synced ...
using eth address: 0x01674bcfb1e6fab7fe0311e26e2fe725a56819c1
Layer 2 lock script hash: 0xa11b63bbd8aceafee128cc7ff278608c88beaee55b5b71c20c7a09b3fb53228e
rollupTypeHash: 0x9346b517fd137a58d8e266ed7cbb27ba4f693bc792118c2744c3b30b1fcdd655
txHash: 0xfc9b5517c5d505e97d0c35384e956a2d0300812dd70f566563aa2deea9195514

# get account id
root@7650ee321ed8:/code/godwoken-examples/packages/tools# ts-node-dev ./src/godwoken-cli.ts getAccountIdByScriptHash 0xa11b63bbd8aceafee128cc7ff278608c88beaee55b5b71c20c7a09b3fb53228e
[INFO] 11:46:27 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.3)
Account id: 2

# create polyjuice creator account
root@7650ee321ed8:/code/godwoken-examples/packages/tools# ts-node-dev ./src/polyjuice-cli.ts createCreatorAccount 2 0x0000000000000000000000000000000000000000000000000000000000000000 0x9346b517fd137a58d8e266ed7cbb27ba4f693bc792118c2744c3b30b1fcdd655 0xa6b023fec4fc492c23c0e999ab03b01a6ca5524a3560725887a8de4362f9c9cc
[INFO] 11:49:54 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.3)
RawL2Transaction {
  from_id: '0x2',
  to_id: '0x0',
  nonce: '0x0',
  args: '0x0000000041000000080000003900000010000000300000003100000020814f4f3ebaf8a297d452aa38dbf0f9cb0b2988a87cb6119c2497de817e7de9000400000000000000'
}
message 0xbe713a78d5255b9bf2efd5a0ff1fd8e1d1f2aa89a5ac25c67f4e757422fa3f19
signature 0x062716ad92d09fd530b26e728a9735604577c45b1fe9381853324f9638075d51394c3191395e5a4960a2769b0c305f9c3adff944c5463fa76645a5ca70226f0800
RunResult {
  read_values: {
    '0xd90fe74e4bc45c8aaa3a04d7e1dbbfeaa006d47764c51d87eaeef21bb4dc354e': '0x0000000000000000000000000000000000000000000000000000000000000000',
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0000000000000000000000000000000000000000000000000000000000000000'
  },
  write_values: {
    '0x0400000002000000000000000000000000000000000000000000000000000000': '0xf0447f00abf5aa4c68b802b0ba1c608224cfa1bd27388607daf936ab128346da',
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0100000000000000000000000000000000000000000000000000000000000000',
    '0xd90fe74e4bc45c8aaa3a04d7e1dbbfeaa006d47764c51d87eaeef21bb4dc354e': '0x0400000000000000000000000000000000000000000000000000000000000000',
    '0x0400000001000000000000000000000000000000000000000000000000000000': '0x0000000000000000000000000000000000000000000000000000000000000000'
  },
  return_data: '0x04000000',
  account_count: '0x5',
  new_scripts: {
    '0xf0447f00abf5aa4c68b802b0ba1c608224cfa1bd27388607daf936ab128346da': '0x3900000010000000300000003100000020814f4f3ebaf8a297d452aa38dbf0f9cb0b2988a87cb6119c2497de817e7de9000400000000000000'
  },
  write_data: {},
  read_data: {}
}
Created account id: 4

root@7650ee321ed8:/code/godwoken-examples/packages/tools# ts-node-dev ./src/polyjuice-cli.ts deploy 4 0x60806040525b607b60006000508190909055505b610018565b60db806100266000396000f3fe60806040526004361060295760003560e01c806360fe47b114602f5780636d4ce63c14605b576029565b60006000fd5b60596004803603602081101560445760006000fd5b81019080803590602001909291905050506084565b005b34801560675760006000fd5b50606e6094565b6040518082815260200191505060405180910390f35b8060006000508190909055505b50565b6000600060005054905060a2565b9056fea2646970667358221220044daf4e34adffc61c3bb9e8f40061731972d32db5b8c2bc975123da9e988c3e64736f6c63430006060033 0x9346b517fd137a58d8e266ed7cbb27ba4f693bc792118c2744c3b30b1fcdd655 0xa6b023fec4fc492c23c0e999ab03b01a6ca5524a3560725887a8de4362f9c9cc
[INFO] 11:52:10 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.3)
EthAddress: 0x01674bcfb1e6fab7fe0311e26e2fe725a56819c1
RawL2Transaction {
  from_id: '0x2',
  to_id: '0x4',
  nonce: '0x1',
  args: '0x0000030000000000000000000000000000000000000000000000000000000000000000000101000060806040525b607b60006000508190909055505b610018565b60db806100266000396000f3fe60806040526004361060295760003560e01c806360fe47b114602f5780636d4ce63c14605b576029565b60006000fd5b60596004803603602081101560445760006000fd5b81019080803590602001909291905050506084565b005b34801560675760006000fd5b50606e6094565b6040518082815260200191505060405180910390f35b8060006000508190909055505b50565b6000600060005054905060a2565b9056fea2646970667358221220044daf4e34adffc61c3bb9e8f40061731972d32db5b8c2bc975123da9e988c3e64736f6c63430006060033'
}
L2Transaction {
  raw: {
    from_id: '0x2',
    to_id: '0x4',
    nonce: '0x1',
    args: '0x0000030000000000000000000000000000000000000000000000000000000000000000000101000060806040525b607b60006000508190909055505b610018565b60db806100266000396000f3fe60806040526004361060295760003560e01c806360fe47b114602f5780636d4ce63c14605b576029565b60006000fd5b60596004803603602081101560445760006000fd5b81019080803590602001909291905050506084565b005b34801560675760006000fd5b50606e6094565b6040518082815260200191505060405180910390f35b8060006000508190909055505b50565b6000600060005054905060a2565b9056fea2646970667358221220044daf4e34adffc61c3bb9e8f40061731972d32db5b8c2bc975123da9e988c3e64736f6c63430006060033'
  },
  signature: '0xba1c351467d6c6a95c34ccb9b0702192add1328119a2511fedbb635375af795732568212be45d3eea42d3376e7a19286b74de7bb838318166b491e0c48fde79900'
}
RunResult {
  read_values: {
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0100000000000000000000000000000000000000000000000000000000000000',
    '0x28ff322db29ccb26d931a453cf88d4426e0ec246a9724edebb5c21c6c61e534c': '0x0000000000000000000000000000000000000000000000000000000000000000',
    '0x0400000002000000000000000000000000000000000000000000000000000000': '0xf0447f00abf5aa4c68b802b0ba1c608224cfa1bd27388607daf936ab128346da'
  },
  write_values: {
    '0x6a18799e3ccfcb7e61c2a691f7c3fe48031bc8d6f813ec4acf126961fbd27f4b': '0x000000000000000000000000000000000000000000000000000000000000007b',
    '0x28ff322db29ccb26d931a453cf88d4426e0ec246a9724edebb5c21c6c61e534c': '0x0500000000000000000000000000000000000000000000000000000000000000',
    '0x0500000001000000000000000000000000000000000000000000000000000000': '0x0000000000000000000000000000000000000000000000000000000000000000',
    '0x0500000002000000000000000000000000000000000000000000000000000000': '0x8c7cee7acaa053170ade5bcd25b24885e8b3e875f776c623d042e29fe6145872',
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0200000000000000000000000000000000000000000000000000000000000000',
    '0xb3c8cccadb4cb7d5094b1ea22a7ac58a87db5d6fef0f42877f7d96930e907238': '0xfb1ea83c43e96c131f5129d94e13fdad2bb8f9dfb5a150bf2cfa1868d3c364a8'
  },
  return_data: '0x60806040526004361060295760003560e01c806360fe47b114602f5780636d4ce63c14605b576029565b60006000fd5b60596004803603602081101560445760006000fd5b81019080803590602001909291905050506084565b005b34801560675760006000fd5b50606e6094565b6040518082815260200191505060405180910390f35b8060006000508190909055505b50565b6000600060005054905060a2565b9056fea2646970667358221220044daf4e34adffc61c3bb9e8f40061731972d32db5b8c2bc975123da9e988c3e64736f6c63430006060033',
  account_count: '0x6',
  new_scripts: {
    '0x8c7cee7acaa053170ade5bcd25b24885e8b3e875f776c623d042e29fe6145872': '0x4100000010000000300000003100000020814f4f3ebaf8a297d452aa38dbf0f9cb0b2988a87cb6119c2497de817e7de9000c000000000000000200000001000000'
  },
  write_data: {
    '0xfb1ea83c43e96c131f5129d94e13fdad2bb8f9dfb5a150bf2cfa1868d3c364a8': '0x60806040526004361060295760003560e01c806360fe47b114602f5780636d4ce63c14605b576029565b60006000fd5b60596004803603602081101560445760006000fd5b81019080803590602001909291905050506084565b005b34801560675760006000fd5b50606e6094565b6040518082815260200191505060405180910390f35b8060006000508190909055505b50565b6000600060005054905060a2565b9056fea2646970667358221220044daf4e34adffc61c3bb9e8f40061731972d32db5b8c2bc975123da9e988c3e64736f6c63430006060033'
  },
  read_data: {}
}
new script hash 0xeb04fcfaf1e3aa31380c1ce2962e41aa59ceea2644549b0b17bbc1f85193532f
new account id: null

# SimpleStorage.get()
root@7650ee321ed8:/code/godwoken-examples/packages/tools# ts-node-dev ./src/polyjuice-cli.ts call 5 0x6d4ce63c 0x9346b517fd137a58d8e266ed7cbb27ba4f693bc792118c2744c3b30b1fcdd655 0xa6b023fec4fc492c23c0e999ab03b01a6ca5524a3560725887a8de4362f9c9cc
[INFO] 11:55:01 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.3)
EthAddress: 0x01674bcfb1e6fab7fe0311e26e2fe725a56819c1
RawL2Transaction {
  from_id: '0x2',
  to_id: '0x5',
  nonce: '0x2',
  args: '0x000000000000000000000000000000000000000000000000000000000000000000000000040000006d4ce63c'
}
L2Transaction {
  raw: {
    from_id: '0x2',
    to_id: '0x5',
    nonce: '0x2',
    args: '0x000000000000000000000000000000000000000000000000000000000000000000000000040000006d4ce63c'
  },
  signature: '0xa66e8e67a1ef8b888f8f69b71ba119be5ed67d27c598ab4cc2b8b66545490bde39e050dc4a204da04ac500ed1b1b583921872fc2ff73e1cb31fa976b657321de01'
}
RunResult {
  read_values: {
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0200000000000000000000000000000000000000000000000000000000000000',
    '0x6a18799e3ccfcb7e61c2a691f7c3fe48031bc8d6f813ec4acf126961fbd27f4b': '0x000000000000000000000000000000000000000000000000000000000000007b',
    '0x0500000002000000000000000000000000000000000000000000000000000000': '0x8c7cee7acaa053170ade5bcd25b24885e8b3e875f776c623d042e29fe6145872',
    '0xb3c8cccadb4cb7d5094b1ea22a7ac58a87db5d6fef0f42877f7d96930e907238': '0xfb1ea83c43e96c131f5129d94e13fdad2bb8f9dfb5a150bf2cfa1868d3c364a8'
  },
  write_values: {
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0300000000000000000000000000000000000000000000000000000000000000'
  },
  return_data: '0x000000000000000000000000000000000000000000000000000000000000007b',
  account_count: null,
  new_scripts: {},
  write_data: {},
  read_data: {
    '0xfb1ea83c43e96c131f5129d94e13fdad2bb8f9dfb5a150bf2cfa1868d3c364a8': '0xdb'
  }
}
return data 0x000000000000000000000000000000000000000000000000000000000000007b

# SimpleStorage.set(0x0d10)
root@7650ee321ed8:/code/godwoken-examples/packages/tools# ts-node-dev ./src/polyjuice-cli.ts call 5 0x6d4ce63c 0x9346b517fd137a58d8e266ed7cbb27ba4f693bc792118c2744c3b30b1fcdd655 0xa6b023fec4fc492c23c0e999ab03b01a6ca5524a3560725887a8de4362f9c9cc
[INFO] 11:55:01 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.3)
EthAddress: 0x01674bcfb1e6fab7fe0311e26e2fe725a56819c1
RawL2Transaction {
  from_id: '0x2',
  to_id: '0x5',
  nonce: '0x2',
  args: '0x000000000000000000000000000000000000000000000000000000000000000000000000040000006d4ce63c'
}
L2Transaction {
  raw: {
    from_id: '0x2',
    to_id: '0x5',
    nonce: '0x2',
    args: '0x000000000000000000000000000000000000000000000000000000000000000000000000040000006d4ce63c'
  },
  signature: '0xa66e8e67a1ef8b888f8f69b71ba119be5ed67d27c598ab4cc2b8b66545490bde39e050dc4a204da04ac500ed1b1b583921872fc2ff73e1cb31fa976b657321de01'
}
RunResult {
  read_values: {
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0200000000000000000000000000000000000000000000000000000000000000',
    '0x6a18799e3ccfcb7e61c2a691f7c3fe48031bc8d6f813ec4acf126961fbd27f4b': '0x000000000000000000000000000000000000000000000000000000000000007b',
    '0x0500000002000000000000000000000000000000000000000000000000000000': '0x8c7cee7acaa053170ade5bcd25b24885e8b3e875f776c623d042e29fe6145872',
    '0xb3c8cccadb4cb7d5094b1ea22a7ac58a87db5d6fef0f42877f7d96930e907238': '0xfb1ea83c43e96c131f5129d94e13fdad2bb8f9dfb5a150bf2cfa1868d3c364a8'
  },
  write_values: {
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0300000000000000000000000000000000000000000000000000000000000000'
  },
  return_data: '0x000000000000000000000000000000000000000000000000000000000000007b',
  account_count: null,
  new_scripts: {},
  write_data: {},
  read_data: {
    '0xfb1ea83c43e96c131f5129d94e13fdad2bb8f9dfb5a150bf2cfa1868d3c364a8': '0xdb'
  }
}
return data 0x000000000000000000000000000000000000000000000000000000000000007b
root@7650ee321ed8:/code/godwoken-examples/packages/tools# ts-node-dev ./src/godwoken-cli.ts getAccountIdByScriptHash 0xeb04fcfaf1e3aa31380c1ce2962e41aa59ceea2644549b0b17bbc1f85193532f
[INFO] 11:55:30 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.3)
Account id: null
root@7650ee321ed8:/code/godwoken-examples/packages/tools# ts-node-dev ./src/polyjuice-cli.ts call 5 0x60fe47b10000000000000000000000000000000000000000000000000000000000000d10 0x9346b517fd137a58d8e266ed7cbb27ba4f693bc792118c2744c3b30b1fcdd655 0xa6b023fec4fc492c23c0e999ab03b01a6ca5524a3560725887a8de4362f9c9cc
[INFO] 11:56:31 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.3)
EthAddress: 0x01674bcfb1e6fab7fe0311e26e2fe725a56819c1
RawL2Transaction {
  from_id: '0x2',
  to_id: '0x5',
  nonce: '0x3',
  args: '0x0000000000000000000000000000000000000000000000000000000000000000000000002400000060fe47b10000000000000000000000000000000000000000000000000000000000000d10'
}
L2Transaction {
  raw: {
    from_id: '0x2',
    to_id: '0x5',
    nonce: '0x3',
    args: '0x0000000000000000000000000000000000000000000000000000000000000000000000002400000060fe47b10000000000000000000000000000000000000000000000000000000000000d10'
  },
  signature: '0xfe08b7f754aa4bcff449d29d256b4a7d366fdcafa60874be1a66bcd48b6c8c687a603494b9d6eb59579ea57417e166fb4db4444c88250b9c29c82501d4121fd200'
}
RunResult {
  read_values: {
    '0xb3c8cccadb4cb7d5094b1ea22a7ac58a87db5d6fef0f42877f7d96930e907238': '0xfb1ea83c43e96c131f5129d94e13fdad2bb8f9dfb5a150bf2cfa1868d3c364a8',
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0300000000000000000000000000000000000000000000000000000000000000',
    '0x0500000002000000000000000000000000000000000000000000000000000000': '0x8c7cee7acaa053170ade5bcd25b24885e8b3e875f776c623d042e29fe6145872'
  },
  write_values: {
    '0x6a18799e3ccfcb7e61c2a691f7c3fe48031bc8d6f813ec4acf126961fbd27f4b': '0x0000000000000000000000000000000000000000000000000000000000000d10',
    '0x0200000001000000000000000000000000000000000000000000000000000000': '0x0400000000000000000000000000000000000000000000000000000000000000'
  },
  return_data: '0x',
  account_count: null,
  new_scripts: {},
  write_data: {},
  read_data: {
    '0xfb1ea83c43e96c131f5129d94e13fdad2bb8f9dfb5a150bf2cfa1868d3c364a8': '0xdb'
  }
}
return data 0x

# SimpleStorage.get()
root@7650ee321ed8:/code/godwoken-examples/packages/tools# ts-node-dev ./src/polyjuice-cli.ts call 5 0x6d4ce63c 0x9346b517fd137a58d8e266ed7cbb27ba4f693bc792118c2744c3b30b1fcdd655 0xa6b023fec4fc492c23c0e999ab03b01a6ca5524a3560725887a8de4362f9c9cc
......
return data 0x0000000000000000000000000000000000000000000000000000000000000d10

# storage changed
```